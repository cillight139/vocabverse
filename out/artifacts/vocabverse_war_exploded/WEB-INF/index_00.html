<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>Werse词境 首页</title>
    <script src="js/jquery-3.7.0.min.js"></script>
    <script src="js/vue.js"></script>
    <script src="js/axios-0.18.0.js"></script>
    <link rel="icon" href="image/logo-white.png">
    <!-- 引入样式 -->
    <link rel="stylesheet" href="css/public/element-ui@2.15.14-index.css">
    <!-- 引入组件库 -->
    <link rel="stylesheet" href="css/index_00.css">
    <link rel="stylesheet" href="css/top-nav.css">
    <link rel="stylesheet" href="css/public/main.css">
</head>
<body>

<div class="top-nav" id="topNavApp">
    <div class="index-logo">
        <a href="homePage" class="index_logo_a">
            <img class="logo_img" src="image/topnav/topnavlogo.png" alt="Werse">
            <h2 class="logo_h2_e">e</h2>
            <h2 class="logo_h2_r">r</h2>
            <h2 class="logo_h2_s">s</h2>
            <h2 class="logo_h2_e1">e</h2>
        </a>
    </div>
    <div class="nav-content">
        <a href="homePage"
           style="color: #00e57b;box-sizing: border-box;border-top: 3px #00e57b solid;"><span>首页</span></a>
        <a href="studyPage"><span>学习</span></a>
        <a><span>查</span><span>-</span><span>译</span></a>
        <div class="cha_yi_div">
            <a href="searchWordPage">查词</a>
            <a href="translatePage">翻译</a>
        </div>
        <a href="wersebotPage"><span>WerseBot</span></a>
        <a href="dataPage"><span>数据</span></a>
    </div>
    <div class="more-nav">
        <div class="message_nav">
            <img src="image/topnav/messagelogo_white.png" alt="">
            <h3>消息</h3>
        </div>
    </div>
</div>

<!--内容-->
<div class="content-body">
    <div class="content-div" id="todayInformApp">
        <div style="width: 100%">
            <div class="today_study_div">
                <h1>今日已学</h1>
                <div class="today_study_shuju">
                    <div><span v-number-add-directive>{{todayWordNumber}}</span>个单词</div>
                    <div><span v-number-add-directive>{{todayTime}}</span>分钟</div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    Vue.directive('number-add-directive', {
        inserted(el, binding) {
            let count = 0 //初始值
            let num = el.innerText //获取页面中的值
            let rate = 30 //定时器间隔时间
            let time = 1500
            let average = num / (time / rate) //得到每次定时器跳动的值

            let timer = setInterval(() => {
                // 将我们得到的值设置给count
                count += average
                el.innerText = count.toFixed(0)
                if (count > num) {
                    count = num
                    el.innerText = count.toFixed(0)
                    //清除定时器
                    timer = null
                    clearInterval(timer)
                }
            }, rate);

        },
    });

    new Vue({
        el: '#todayInformApp',
        data: {
            todayWordNumber: 142,
            todayTime: 49
        }
    })
</script>


</body>
</html>